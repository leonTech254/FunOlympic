@page "/event/{EventId}/details"
@inject EventService _eventService;
@inject NavigationManager Navigation

<header>
    <link rel="stylesheet" href="css\eventDetails.css">
</header>
<div class="event-container">
    <div class="event-details">
        <h2>@eventModel.EventName</h2>
        <p>@eventModel.EventDescription</p>
        <p>Event Date: @eventModel.EventDate</p>
        @* <img src="@eventModel.EventImageUrl" alt="Event Image" /> *@
        <video controls autoplay class="event-video">
            <!-- Placeholder video source -->
            <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <div class="other-events">
        <h2>Other Events</h2>
        @foreach (var evt in OtherEvents)
        {
            <p><a href="@($"event/{evt.Id}/details")">@evt.EventName</a></p>
        }
    </div>
</div>

@code {
    [Parameter]
    public string EventId { get; set; }

    public EventModel eventModel;
    public List<EventModel> OtherEvents = new List<EventModel>();

    protected override async Task OnInitializedAsync()
    {
        int id = int.Parse(EventId);
        eventModel = await _eventService.getEventDetails(id);

        // Simulated list of other events (replace with actual data)
        OtherEvents = await _eventService.getAllEvents();
        OtherEvents.RemoveAll(evt => evt.Id == id); // Remove the current event from the list
    }

   
}
